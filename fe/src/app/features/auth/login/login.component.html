<!-- Login Screen -->
<div class="min-h-screen flex flex-col justify-between bg-[#307ff5] px-4 pt-4 pb-2 relative">

  <div>
    <button type="button" (click)="back()">
      <lucide-icon [name]="ChevronLeft"></lucide-icon>
    </button>
  </div>
  <!-- Logo -->
  <div class="flex justify-center mt-4">
    <img src="assets/images/logo.png" alt="Logo" class="w-40 h-40 object-contain" />
  </div>
  <!-- Nội dung chính -->
  <div class="relative z-10 flex flex-col items-center mb-50">
    <h2 class="text-2xl font-bold text-[#F8F8FF] mb-10 mt-2 self-start">Đăng nhập</h2>

    <!-- Error Message -->
    @if (errorMessage()) {
    <div class="w-full mb-4 p-3 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded-lg text-sm font-bold">
      {{ errorMessage() }}
    </div>
    }

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="w-full space-y-4">
      <div>
        <input type="email" formControlName="email" placeholder="Email"
          class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 mb-2"
          [class.border-yellow-500]="hasError('email', 'requiyellow') || hasError('email', 'email')" />
        @if (getErrorMessage('email')) {
        <p class="text-yellow-500 text-base mt-1">{{ getErrorMessage('email') }}</p>
        }
      </div>
      <div>
        <input type="password" formControlName="password" placeholder="Mật khẩu"
          class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500"
          [class.border-yellow-500]="hasError('password', 'requiyellow') || hasError('password', 'minlength')" />
        @if (getErrorMessage('password')) {
        <p class="text-yellow-500 text-base mt-1">{{ getErrorMessage('password') }}</p>
        }
      </div>
      <div class="flex justify-between items-center text-base mt-1 mb-5">
        <span></span>
        <a href="#" class="text-white hover:underline">Quên mật khẩu?</a>
      </div>
      <button type="submit" [disabled]="isSubmitting()"
        class="w-full bg-blue-600 text-white py-3 rounded-full font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed">
        {{ isSubmitting() ? 'Đăng nhập...' : 'Tiếp tục' }}
      </button>
    </form>
    <p class="text-base text-[#F8F8FF] text-center mt-4">
      Bằng việc đăng nhập, bạn đồng ý với
      <a href="#" class="text-yellow-500 underline">Điều khoản sử dụng</a> và
      <a href="#" class="text-yellow-500 underline">Chính sách bảo mật</a>.
    </p>
    <div class="flex justify-center space-x-4 mt-4">
      <button class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-xl">
        <a href="https://www.flaticon.com/free-icons/facebook" title="facebook icons"><img
            src="assets/icons/facebook.png" alt="Facebook" class="w-10 h-10 object-contain" /></a>
      </button>
      <button class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-xl">
        <a href="https://www.flaticon.com/free-icons/google" title="google icons"><img src="assets/icons/google.png"
            alt="Google" class="w-10 h-10 object-contain" /></a>
      </button>
      <button class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-xl">
        <a href="https://www.flaticon.com/free-icons/apple" title="apple icons"><img src="assets/icons/apple.png"
            alt="Apple" class="w-10 h-10 object-contain" /></a>
      </button>
    </div>
    <div class="text-center text-[#F8F8FF] text-base mt-6">
      Bạn chưa có tài khoản?
      <a routerLink="/register" class="text-yellow-500 hover:underline">Đăng ký!</a>
    </div>
  </div>
</div>