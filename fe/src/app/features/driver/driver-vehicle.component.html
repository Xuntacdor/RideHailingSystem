<div class="vehicle-container">

  <!-- TOP BAR -->
  <div class="vehicle-topbar">
    <button class="back-btn" (click)="goBack()">‚Üê</button>
    <span class="page-title">Ph∆∞∆°ng ti·ªán</span>
  </div>

  <!-- HEADER -->
  <div class="vehicle-header">
    <h3>Ph∆∞∆°ng ti·ªán c·ªßa t√¥i</h3>
    <p>Qu·∫£n l√Ω c√°c ph∆∞∆°ng ti·ªán ƒë√£ ƒëƒÉng k√Ω</p>
  </div>
  <div style="padding: 10px; background: #f5f5f5; margin-bottom: 10px;">
  <strong>Driver ID:</strong>
  <span *ngIf="driverId; else noId">{{ driverId }}</span>

  <ng-template #noId>
    <span style="color: red;">‚ùå Ch∆∞a l·∫•y ƒë∆∞·ª£c ID</span>
  </ng-template>
</div>

  <!-- VEHICLE LIST -->
  <div class="vehicle-list">

    <!-- VEHICLE CARD -->
    <div class="vehicle-card" *ngFor="let v of vehicles">

      <div class="vehicle-row">
        <span class="label">Lo·∫°i xe</span>
        <span class="value">{{ getVehicleTypeLabel(v.vehicleType) }}</span>
      </div>

      <div class="vehicle-row">
        <span class="label">Bi·ªÉn s·ªë</span>
        <span class="value">{{ v.licenseNumber }}</span>
      </div>

      <div class="vehicle-row">
        <span class="label">H√£ng xe</span>
        <span class="value">{{ v.vehicleBrand }}</span>
      </div>

      <div class="vehicle-row">
        <span class="label">M√†u xe</span>
        <span class="value">{{ v.vehicleColor }}</span>
      </div>

      <div class="vehicle-status"
        [ngClass]="{
          'status-approved': v.status === 'ACTIVE',
          'status-pending': v.status === 'PENDING',
          'status-rejected': v.status === 'INACTIVE'
        }">

        {{ v.status === 'ACTIVE'
            ? '‚úî ƒê√£ k√≠ch ho·∫°t'
            : v.status === 'PENDING'
            ? '‚è≥ Ch·ªù duy·ªát'
            : '‚ùå Ng∆∞ng ho·∫°t ƒë·ªông' }}
      </div>

      <button class="btn-primary">
        C·∫≠p nh·∫≠t ph∆∞∆°ng ti·ªán
      </button>

    </div>

    <!-- ADD VEHICLE BUTTON -->
    <button class="btn-primary" (click)="toggleAddForm()">
      {{ showAddForm ? '‚úñ ƒê√≥ng' : '+ Th√™m ph∆∞∆°ng ti·ªán' }}
    </button>

    <!-- ADD VEHICLE FORM -->
    <div class="vehicle-card" *ngIf="showAddForm">

      <h4>Th√™m ph∆∞∆°ng ti·ªán</h4>

      <!-- VEHICLE TYPE -->
      <label class="label">Lo·∫°i xe</label>

      <div class="dropdown-box" (click)="toggleVehicleType()">
        {{
          newVehicle.vehicleType === 'CAR'
            ? 'üöó √î t√¥'
            : newVehicle.vehicleType === 'MOTORBIKE'
            ? 'üèçÔ∏è Xe m√°y'
            : 'Ch·ªçn lo·∫°i xe'
        }}
        <span>‚ñæ</span>
      </div>

      <div class="dropdown-list" *ngIf="showVehicleType">
        <div (click)="selectVehicleType('MOTORBIKE'); $event.stopPropagation()">
          üèçÔ∏è Xe m√°y
        </div>
        <div (click)="selectVehicleType('CAR'); $event.stopPropagation()">
          üöó √î t√¥
        </div>
      </div>

      <input placeholder="Bi·ªÉn s·ªë"
             [(ngModel)]="newVehicle.licenseNumber">

      <input placeholder="H√£ng xe"
             [(ngModel)]="newVehicle.vehicleBrand">

      <input placeholder="M√†u xe"
             [(ngModel)]="newVehicle.vehicleColor">

      <button class="btn-primary"
              (click)="addVehicle()"
              [disabled]="
                !newVehicle.vehicleType ||
                !newVehicle.vehicleNumber ||
                !newVehicle.vehicleBrand
              ">
        L∆∞u ph∆∞∆°ng ti·ªán
      </button>

    </div>

  </div>
</div>
